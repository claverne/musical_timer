[{"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/index.js":"1","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/App.js":"2","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/styles/theme.js":"3","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/back.js":"4","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Home.js":"5","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Loggedin.js":"6","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/util.js":"7","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/User.js":"8","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Navbar.js":"9","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/NumberInputFieldTimer.js":"10"},{"size":365,"mtime":1612122821138,"results":"11","hashOfConfig":"12"},{"size":513,"mtime":1612094939100,"results":"13","hashOfConfig":"12"},{"size":181,"mtime":1612129913001,"results":"14","hashOfConfig":"12"},{"size":3634,"mtime":1612456149971,"results":"15","hashOfConfig":"12"},{"size":509,"mtime":1612124626370,"results":"16","hashOfConfig":"12"},{"size":4364,"mtime":1612455295554,"results":"17","hashOfConfig":"12"},{"size":0,"mtime":1612114149481,"results":"18","hashOfConfig":"12"},{"size":241,"mtime":1612118223116,"results":"19","hashOfConfig":"12"},{"size":1370,"mtime":1612124617383,"results":"20","hashOfConfig":"12"},{"size":463,"mtime":1612174603476,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"o61has",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/index.js",[],["45","46"],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/App.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/styles/theme.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/back.js",["47","48","49","50","51"],"import {User} from './User.js'\n\nlet axios = require('axios');\nlet querystring = require('querystring');\nlet Cookie = require('js-cookie');\n\nlet access_token = null;\nlet refresh_token = null\nlet user_id = null;\nlet user_country = null;\n\nexport function init_token() {\n    access_token = Cookie.get('access_token');\n    refresh_token = Cookie.get('refresh_token');\n}\n\nexport function getUser() {\n    return axios({\n        method: 'get',\n        url: 'https://api.spotify.com/v1/me',\n        headers: {\n          'Authorization': 'Bearer ' + access_token\n        },\n    }).then(function(response) {\n        user_id = response.data.id;\n        user_country = response.data.country;\n        let user = new User(response.data.id, response.data.display_name, response.data.images);\n        return user\n    });\n}\n\nexport function login() {\n    axios({\n        method: 'get',\n        url: 'http://localhost:8888/login',\n        headers: {\n            'Access-Control-Allow-Credentials': true,\n            'Access-Control-Allow-Origins': 'http://localhost:8888',\n            'Access-Control-Allow-Headers': 'Accept',\n        },\n    }).then(function(response){\n        window.location.replace(response.data.urlbase +\n            querystring.stringify({\n                response_type: response.data.response_type,\n                client_id: response.data.client_id,\n                scope: response.data.scope,\n                redirect_uri: response.data.redirect_uri,\n                state: response.data.state,\n            })\n        )\n    });\n}\n\nexport function getTimerPlaylist(max_dur) {\n    let date = new Date();\n    date = date.toISOString();\n\n    axios({\n        method:'get',\n        url:`https://api.spotify.com/v1/browse/featured-playlists`,\n        headers: {\n            'Authorization': 'Bearer ' + access_token\n        },\n        params: {\n            country: user_country,\n            locale: \"en_US\",\n            timestamp: date,\n        },\n    }).then(function(response){\n        let featuredPlaylistIds = response.data.playlists.items.map(function (playlist) {\n          return playlist.id\n        });\n        return featuredPlaylistIds;\n    }).then(function(featuredPlaylistIds) {\n        let tracksIdsDuration = [];\n        let tot_dur = 0;\n\n        featuredPlaylistIds.map(function(playlist_id) {\n            axios({\n            method:'get',\n            url:`https://api.spotify.com/v1/playlists/${playlist_id}/tracks`,\n            headers: {\n                'Authorization': 'Bearer ' + access_token\n            },\n            params: {\n                market: user_country,\n                fields: \"items(track(id, duration_ms))\",\n                timestamp: date,\n            },\n            }).then(function(response) {\n\n                let a = response.data.items.map(function (object) {\n                    let track_dur = Math.round(object.track.duration_ms/1000);\n                    if((tot_dur + track_dur) <= max_dur - 240) {\n                        tot_dur = tot_dur + track_dur;\n                        return [object.track.id, track_dur];\n                    }\n                });\n\n                tracksIdsDuration.push(a);\n\n                let b = response.data.items.map(function (object) {\n                    let track_dur = Math.round(object.track.duration_ms/1000);\n                    if(track_dur === max_dur - tot_dur) {\n                        tot_dur = tot_dur + track_dur;\n                        return [object.track.id, track_dur];\n                    }\n                });\n\n                tracksIdsDuration.push(b);\n\n                console.log(tot_dur)\n            });\n        });\n\n    });\n}","/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Home.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Loggedin.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/util.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/User.js",[],["52","53"],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/Navbar.js",[],"/Users/clairelaverne/Documents/Projects/WEB/musical_timer/src/NumberInputFieldTimer.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":14,"column":5,"nodeType":"60","messageId":"61","endLine":14,"endColumn":18},{"ruleId":"58","severity":1,"message":"62","line":25,"column":9,"nodeType":"60","messageId":"61","endLine":25,"endColumn":16},{"ruleId":"63","severity":1,"message":"64","line":78,"column":33,"nodeType":"65","messageId":"66","endLine":78,"endColumn":41},{"ruleId":"63","severity":1,"message":"67","line":92,"column":49,"nodeType":"65","messageId":"68","endLine":92,"endColumn":58},{"ruleId":"63","severity":1,"message":"67","line":102,"column":49,"nodeType":"65","messageId":"68","endLine":102,"endColumn":58},{"ruleId":"54","replacedBy":"69"},{"ruleId":"56","replacedBy":"70"},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"no-unused-vars","'refresh_token' is assigned a value but never used.","Identifier","unusedVar","'user_id' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from function.","FunctionExpression","expectedInside","Array.prototype.map() expects a value to be returned at the end of function.","expectedAtEnd",["71"],["72"],"no-global-assign","no-unsafe-negation"]